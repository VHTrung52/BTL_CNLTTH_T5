{"remainingRequest":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js??ref--13-2!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\src\\components\\KiemKe\\ThemSuaKiemKe.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\src\\components\\KiemKe\\ThemSuaKiemKe.vue","mtime":1603956408982},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\.babelrc","mtime":1603956407860},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603956549663},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603956549663},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport { Vue } from 'vue-property-decorator';\nimport KiemKeApi from '@/apiResources/KiemKeApi';\nimport ChiTietKiemKeApi from '@/apiResources/ChiTietKiemKeApi';\nimport ModalChiTietKiemKe from './ModalChiTietKiemKe.vue';\nexport default Vue.extend({\n  $_veeValidate: {\n    validator: 'new'\n  },\n  components: {\n    ModalChiTietKiemKe: ModalChiTietKiemKe\n  },\n  data: function data() {\n    return {\n      dialog: false,\n      isUpdate: false,\n      kiemKe: {},\n      dsChiTietKiemKe: [],\n      chiTietKiemKe: {},\n      dsChiTietKiemKeLoading: false,\n      searchChiTietKiemKe: '',\n      searchParamsChiTietKiemKe: {\n        includeEntities: true\n      },\n      tableHeaderChiTietKiemKe: [{\n        text: '#',\n        value: 'ChiTietKiemKeID',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Tên vật dụng',\n        value: 'VatDungPhongID',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Số lượng tiêu chuẩn',\n        value: 'VatDungPhongID',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Số lượng kiểm kê',\n        value: 'SoLuongKiemKe',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Chênh lệch',\n        value: 'GhiChu',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Số lượng kho',\n        value: 'GhiChu',\n        align: 'center',\n        sortable: true\n      }],\n      loading: false,\n      searchParamsKiemKe: {}\n    };\n  },\n  watch: {},\n  methods: {\n    show: function show(isUpdate, item) {\n      this.dialog = true;\n      this.$validator.errors.clear(\"frmAddEdit\");\n      this.isUpdate = isUpdate;\n      this.dsChiTietKiemKe = [];\n\n      if (this.isUpdate !== true) {\n        this.kiemKe = {};\n      } else {\n        this.getDataFromApi(item.KiemKeID);\n      }\n    },\n    showModalChiTietKiemKe: function showModalChiTietKiemKe() {\n      this.$refs.modalChiTietKiemKe.show(this.kiemKe.KiemKeID);\n    },\n    getDataFromApi: function getDataFromApi(id) {\n      var _this = this;\n\n      KiemKeApi.detail(id).then(function (res) {\n        _this.kiemKe = res;\n        _this.searchParamsChiTietKiemKe.kiemKeID = res.KiemKeID;\n\n        _this.getDSChiTietKiemKe();\n      });\n    },\n    save: function save() {\n      var _this2 = this;\n\n      this.$validator.validateAll('frmAddEdit').then(function (res) {\n        if (res) {\n          _this2.kiemKe.NhanVien = undefined;\n          _this2.kiemKe.ChiTietKiemKe = undefined;\n\n          if (_this2.isUpdate) {\n            _this2.loading = true;\n            KiemKeApi.update(_this2.kiemKe.KiemKeID, _this2.kiemKe).then(function (res) {\n              _this2.loading = false;\n              _this2.dialog = false;\n\n              _this2.$emit(\"getLaiDanhSach\");\n\n              _this2.$snotify.success('Cập nhật thành công!');\n            }).catch(function (res) {\n              _this2.loading = false;\n\n              _this2.$snotify.error('Cập nhật thất bại!');\n            });\n          } else {\n            _this2.loading = true;\n            KiemKeApi.insert(_this2.kiemKe).then(function (res) {\n              _this2.kiemKe = res;\n              _this2.searchParamsChiTietKiemKe.kiemKeID = res.KiemKeID;\n\n              _this2.getDSChiTietKiemKe();\n\n              _this2.$emit(\"getLaiDanhSach\");\n\n              _this2.isUpdate = true;\n              _this2.loading = false;\n\n              _this2.$snotify.success('Thêm mới thành công!');\n            }).catch(function (res) {\n              _this2.loading = false;\n\n              _this2.$snotify.error('Thêm mới thất bại!');\n            });\n          }\n        }\n      });\n    },\n    getDSChiTietKiemKe: function getDSChiTietKiemKe() {\n      var _this3 = this;\n\n      ChiTietKiemKeApi.search(this.searchParamsChiTietKiemKe).then(function (res) {\n        _this3.dsChiTietKiemKe = res.Data;\n      });\n    }\n  }\n});",{"version":3,"sources":["C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\src\\components\\KiemKe\\ThemSuaKiemKe.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from 'vue-property-decorator';\nimport KiemKeApi, { KiemKeApiSearchParams } from '@/apiResources/KiemKeApi';\nimport { KiemKe } from '@/models/KiemKe';\nimport { ChiTietKiemKe } from '@/models/ChiTietKiemKe';\nimport ChiTietKiemKeApi, { ChiTietKiemKeApiSearchParams } from '@/apiResources/ChiTietKiemKeApi';\nimport ModalChiTietKiemKe from './ModalChiTietKiemKe.vue'\nexport default Vue.extend({\n    $_veeValidate: {\n        validator: 'new'\n    },\n    components: {\n        ModalChiTietKiemKe\n    },\n    data() {\n        return {\n            dialog: false,\n            isUpdate: false,\n            kiemKe: {} as KiemKe,\n            dsChiTietKiemKe: [] as ChiTietKiemKe[],\n            chiTietKiemKe: {} as ChiTietKiemKe,\n            dsChiTietKiemKeLoading: false,\n            searchChiTietKiemKe: '',\n            searchParamsChiTietKiemKe: { includeEntities: true } as ChiTietKiemKeApiSearchParams,\n            tableHeaderChiTietKiemKe: [\n                { text: '#', value: 'ChiTietKiemKeID', align: 'center', sortable: true },\n                { text: 'Tên vật dụng', value: 'VatDungPhongID', align: 'center', sortable: true },\n                { text: 'Số lượng tiêu chuẩn', value: 'VatDungPhongID', align: 'center', sortable: true },\n                { text: 'Số lượng kiểm kê', value: 'SoLuongKiemKe', align: 'center', sortable: true },\n                { text: 'Chênh lệch', value: 'GhiChu', align: 'center', sortable: true },\n                { text: 'Số lượng kho', value: 'GhiChu', align: 'center', sortable: true },\n            ],\n            loading: false,\n            searchParamsKiemKe: {} as KiemKeApiSearchParams,\n        }\n    },\n    watch: {\n    },\n    methods: {\n        show(isUpdate: boolean, item: any) {\n            this.dialog = true;\n            this.$validator.errors.clear(\"frmAddEdit\");\n            this.isUpdate = isUpdate;\n            this.dsChiTietKiemKe = [] as ChiTietKiemKe[];\n            if (this.isUpdate !== true) {\n                this.kiemKe = {} as KiemKe;\n            }\n            else {\n                this.getDataFromApi(item.KiemKeID);\n            }\n        },\n        showModalChiTietKiemKe() {\n            (this.$refs.modalChiTietKiemKe as any).show(this.kiemKe.KiemKeID)\n        },\n        getDataFromApi(id: number): void {\n            KiemKeApi.detail(id).then(res => {\n                this.kiemKe = res;\n                this.searchParamsChiTietKiemKe.kiemKeID = res.KiemKeID;\n                this.getDSChiTietKiemKe();\n            });\n        },\n        save(): void {\n            this.$validator.validateAll('frmAddEdit').then((res) => {\n               if (res) {\n                    this.kiemKe.NhanVien = undefined;\n                    this.kiemKe.ChiTietKiemKe = undefined;\n                    if (this.isUpdate) {\n                        this.loading = true;\n                        KiemKeApi.update(this.kiemKe.KiemKeID, this.kiemKe).then(res => {\n                            this.loading = false;\n                            this.dialog = false;\n                            this.$emit(\"getLaiDanhSach\");\n                            this.$snotify.success('Cập nhật thành công!');\n                        }).catch(res => {\n                            this.loading = false;\n                            this.$snotify.error('Cập nhật thất bại!');\n                        });\n                    } else {\n                        this.loading = true;\n                        KiemKeApi.insert(this.kiemKe).then(res => {\n                            this.kiemKe = res;\n                            this.searchParamsChiTietKiemKe.kiemKeID = res.KiemKeID;\n                            this.getDSChiTietKiemKe();\n                            this.$emit(\"getLaiDanhSach\");\n                            this.isUpdate = true;\n                            this.loading = false;\n                            this.$snotify.success('Thêm mới thành công!');\n                        }).catch(res => {\n                            this.loading = false;\n                            this.$snotify.error('Thêm mới thất bại!');\n                        });\n                    }\n                }\n            });\n        },\n        getDSChiTietKiemKe(): void {\n            ChiTietKiemKeApi.search(this.searchParamsChiTietKiemKe).then(res => {\n                this.dsChiTietKiemKe = res.Data;\n            });\n        },\n       \n    }\n});\n"],"sourceRoot":""}]}