{"remainingRequest":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js??ref--13-2!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\Phong\\ThemSuaPhong.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\Phong\\ThemSuaPhong.vue","mtime":1603960010000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\.babelrc","mtime":1603960008000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport { Vue } from 'vue-property-decorator';\nimport PhongApi from '@/apiResources/PhongApi';\nimport VatDungPhongApi from '@/apiResources/VatDungPhongApi';\nimport LoaiPhongApi from '@/apiResources/LoaiPhongApi';\nimport VatDungApi from '@/apiResources/VatDungApi';\nexport default Vue.extend({\n  $_veeValidate: {\n    validator: 'new'\n  },\n  components: {},\n  data: function data() {\n    return {\n      dialog: false,\n      searchParamsVatDungPhong: {\n        includeEntities: true\n      },\n      dsVatDung: [],\n      isUpdateVatDungPhong: false,\n      searchLoaiPhong: '',\n      dsLoaiPhong: [],\n      isUpdate: false,\n      phong: {\n        VatDungPhong: []\n      },\n      vatDungPhong: {\n        VatDung: {}\n      },\n      searchParamsLoaiPhong: {\n        includeEntities: true\n      },\n      selectedVatDungPhong: {},\n      dialogConfirmDeleteVatDungPhong: false,\n      dsVatDungPhong: [],\n      dsVatDungPhongLoading: false,\n      searchParamsVatDung: {\n        includeEntities: true\n      },\n      tableHeaderVatDungPhong: [{\n        text: 'STT',\n        value: '',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Tên vật dụng',\n        value: 'VatDungPhongID',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Số lượng',\n        value: 'SoLuong',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Ghi chú',\n        value: 'GhiChu',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Thao tác',\n        value: '#',\n        align: 'center',\n        sortable: false\n      }],\n      loading: false,\n      searchParamsPhong: {}\n    };\n  },\n  watch: {},\n  created: function created() {\n    this.getDataVatDungFromApi();\n    this.getDataLoaiPhongFromApi();\n  },\n  methods: {\n    show: function show(isUpdate, item) {\n      this.dialog = true;\n      this.$validator.errors.clear(\"frmAddEdit\");\n      this.isUpdate = isUpdate;\n      this.vatDungPhong = {};\n      this.dsVatDungPhong = [];\n      if (isUpdate == true) this.getDataFromApi(item.PhongID);else this.phong = {};\n    },\n    getDataFromApi: function getDataFromApi(id) {\n      var _this = this;\n\n      PhongApi.detail(id).then(function (res) {\n        _this.phong = res;\n\n        _this.getDataFromApiVatDungPhong(_this.searchParamsVatDungPhong);\n      });\n    },\n    confirmDeleteVatDungPhong: function confirmDeleteVatDungPhong(vatDungPhong) {\n      this.selectedVatDungPhong = vatDungPhong;\n      this.dialogConfirmDeleteVatDungPhong = true;\n    },\n    deleteVatDungPhong: function deleteVatDungPhong() {\n      var _this2 = this;\n\n      if (this.selectedVatDungPhong.VatDungPhongID != null) {\n        VatDungPhongApi.delete(this.selectedVatDungPhong.VatDungPhongID).then(function (res) {\n          _this2.$snotify.success('Xóa thành công!');\n\n          _this2.getDataFromApiVatDungPhong(_this2.searchParamsVatDungPhong);\n\n          _this2.dialogConfirmDeleteVatDungPhong = false;\n        }).catch(function (res) {\n          _this2.$snotify.error('Xóa thất bại!');\n        });\n      } else {\n        var index = this.dsVatDungPhong.indexOf(this.selectedVatDungPhong);\n        this.dsVatDungPhong.splice(index, 1);\n        this.dialogConfirmDeleteVatDungPhong = false;\n      }\n    },\n    getDataFromApiVatDungPhong: function getDataFromApiVatDungPhong(searchParamsVatDungPhong) {\n      var _this3 = this;\n\n      this.searchParamsVatDungPhong.phongID = this.phong.PhongID;\n      VatDungPhongApi.search(searchParamsVatDungPhong).then(function (res) {\n        _this3.dsVatDungPhong = res.Data;\n        _this3.searchParamsVatDungPhong.totalItems = res.Pagination.totalItems;\n        _this3.dsVatDungPhongLoading = false;\n      });\n    },\n    suaVatDungPhong: function suaVatDungPhong(item) {\n      this.vatDungPhong = item;\n      this.isUpdateVatDungPhong = true;\n    },\n    saveVatDungPhong: function saveVatDungPhong() {\n      var _this4 = this;\n\n      this.$validator.validateAll('frmAddEdit').then(function (res) {\n        if (res) {\n          if (_this4.isUpdate) {\n            _this4.vatDungPhong.Phong = undefined;\n            _this4.loading = true;\n\n            if (_this4.isUpdateVatDungPhong) {\n              VatDungPhongApi.update(_this4.vatDungPhong.VatDungPhongID, _this4.vatDungPhong).then(function (res) {\n                _this4.vatDungPhong = {};\n                _this4.loading = false;\n\n                _this4.getDataFromApiVatDungPhong(_this4.searchParamsVatDungPhong);\n\n                _this4.isUpdateVatDungPhong = false;\n              });\n            } else {\n              _this4.vatDungPhong.PhongID = _this4.phong.PhongID;\n              VatDungPhongApi.insert(_this4.vatDungPhong).then(function (res) {\n                _this4.vatDungPhong = {};\n                _this4.loading = false;\n\n                _this4.getDataFromApiVatDungPhong(_this4.searchParamsVatDungPhong);\n              });\n            }\n          } else {\n            _this4.vatDungPhong.VatDungID = _this4.vatDungPhong.VatDung.VatDungID;\n\n            _this4.dsVatDungPhong.push(_this4.vatDungPhong);\n\n            _this4.vatDungPhong = {};\n          }\n        }\n      });\n    },\n    save: function save() {\n      var _this5 = this;\n\n      this.$validator.validateAll('frmAddEdit').then(function (res) {\n        if (res) {\n          _this5.phong.LoaiPhong = undefined;\n          _this5.phong.ThuePhong = undefined;\n          _this5.phong.VatDungPhong = undefined;\n\n          if (_this5.isUpdate) {\n            PhongApi.update(_this5.phong.PhongID, _this5.phong).then(function (res) {\n              _this5.loading = false;\n              _this5.dialog = false;\n\n              _this5.$emit(\"getLaiDanhSach\");\n\n              _this5.$snotify.success('Cập nhật thành công!');\n            }).catch(function (res) {\n              _this5.loading = false;\n\n              _this5.$snotify.error('Cập nhật thất bại!');\n            });\n          } else {\n            _this5.loading = true;\n            _this5.vatDungPhong.VatDung = undefined;\n            _this5.phong.VatDungPhong = _this5.dsVatDungPhong;\n            PhongApi.insert(_this5.phong).then(function (res) {\n              _this5.dialog = false;\n\n              _this5.$emit(\"getLaiDanhSach\");\n\n              _this5.phong = res;\n              _this5.isUpdate = true;\n              _this5.loading = false;\n\n              _this5.$snotify.success('Thêm mới thành công!');\n            }).catch(function (res) {\n              _this5.loading = false;\n\n              _this5.$snotify.error('Thêm mới thất bại!');\n            });\n            2;\n          }\n        }\n      });\n    },\n    getDataVatDungFromApi: function getDataVatDungFromApi() {\n      var _this6 = this;\n\n      this.loading = true;\n      VatDungApi.search(this.searchParamsVatDung).then(function (response) {\n        _this6.dsVatDung = response.Data;\n        _this6.loading = false;\n      });\n    },\n    getDataLoaiPhongFromApi: function getDataLoaiPhongFromApi() {\n      var _this7 = this;\n\n      this.loading = true;\n      LoaiPhongApi.search(this.searchParamsLoaiPhong).then(function (response) {\n        _this7.dsLoaiPhong = response.Data;\n        _this7.loading = false;\n      });\n    }\n  }\n});",{"version":3,"sources":["D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\Phong\\ThemSuaPhong.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from 'vue-property-decorator';\nimport PhongApi, { PhongApiSearchParams } from '@/apiResources/PhongApi';\nimport { Phong } from '@/models/Phong';\nimport { VatDungPhong } from '@/models/VatDungPhong';\nimport VatDungPhongApi, { VatDungPhongApiSearchParams } from '@/apiResources/VatDungPhongApi';\nimport { LoaiPhong } from '@/models/LoaiPhong';\nimport LoaiPhongApi, { LoaiPhongApiSearchParams } from '@/apiResources/LoaiPhongApi';\nimport { VatDung } from '@/models/VatDung';\nimport VatDungApi, { VatDungApiSearchParams } from '@/apiResources/VatDungApi';\nexport default Vue.extend({\n    $_veeValidate: {\n        validator: 'new'\n    },\n    components: {},\n    data() {\n        return {\n            dialog: false,\n            searchParamsVatDungPhong: { includeEntities: true } as VatDungPhongApiSearchParams,\n            dsVatDung: [] as VatDung[],\n            isUpdateVatDungPhong: false,\n            searchLoaiPhong: '',\n            dsLoaiPhong: [] as LoaiPhong[],\n            isUpdate: false,\n            phong: { VatDungPhong: [] as VatDungPhong[] } as Phong,\n            vatDungPhong: {\n                VatDung: {} as VatDung\n            } as VatDungPhong,\n            searchParamsLoaiPhong: { includeEntities: true } as LoaiPhongApiSearchParams,\n            selectedVatDungPhong: {} as VatDungPhong,\n            dialogConfirmDeleteVatDungPhong: false,\n            dsVatDungPhong: [] as VatDungPhong[],\n            dsVatDungPhongLoading: false,\n            searchParamsVatDung: { includeEntities: true } as VatDungApiSearchParams,\n            tableHeaderVatDungPhong: [\n                { text: 'STT', value: '', align: 'center', sortable: true },\n                { text: 'Tên vật dụng', value: 'VatDungPhongID', align: 'center', sortable: true },\n                { text: 'Số lượng', value: 'SoLuong', align: 'center', sortable: true },\n                { text: 'Ghi chú', value: 'GhiChu', align: 'center', sortable: true },\n                { text: 'Thao tác', value: '#', align: 'center', sortable: false },\n            ],\n            loading: false,\n            searchParamsPhong: {} as PhongApiSearchParams,\n        }\n    },\n    watch: {\n    },\n\n\n    created() {\n        this.getDataVatDungFromApi();\n        this.getDataLoaiPhongFromApi();\n    },\n    methods: {\n        show(isUpdate: boolean, item: any) {\n            this.dialog = true;\n            this.$validator.errors.clear(\"frmAddEdit\");\n            this.isUpdate = isUpdate;\n            this.vatDungPhong = {} as VatDungPhong;\n            this.dsVatDungPhong = [] as VatDungPhong[];\n            if (isUpdate == true)\n                this.getDataFromApi(item.PhongID);\n            else\n                this.phong = {} as Phong;\n        },\n\n        getDataFromApi(id: number): void {\n            PhongApi.detail(id).then(res => {\n                this.phong = res;\n                this.getDataFromApiVatDungPhong(this.searchParamsVatDungPhong);\n\n            });\n        },\n        confirmDeleteVatDungPhong(vatDungPhong: VatDungPhong): void {\n            this.selectedVatDungPhong = vatDungPhong;\n            this.dialogConfirmDeleteVatDungPhong = true;\n        },\n        deleteVatDungPhong(): void {\n            if (this.selectedVatDungPhong.VatDungPhongID != null) {\n                VatDungPhongApi.delete(this.selectedVatDungPhong.VatDungPhongID).then(res => {\n                    this.$snotify.success('Xóa thành công!');\n                    this.getDataFromApiVatDungPhong(this.searchParamsVatDungPhong);\n                    this.dialogConfirmDeleteVatDungPhong = false;\n                }).catch(res => {\n                    this.$snotify.error('Xóa thất bại!');\n                });\n            }\n            else {\n                var index = this.dsVatDungPhong.indexOf(this.selectedVatDungPhong);\n                this.dsVatDungPhong.splice(index, 1);\n                this.dialogConfirmDeleteVatDungPhong = false;\n            }\n        },\n        getDataFromApiVatDungPhong(searchParamsVatDungPhong: VatDungPhongApiSearchParams): void {\n            this.searchParamsVatDungPhong.phongID = this.phong.PhongID;\n\n            VatDungPhongApi.search(searchParamsVatDungPhong).then(res => {\n                this.dsVatDungPhong = res.Data;\n                this.searchParamsVatDungPhong.totalItems = res.Pagination.totalItems;\n                this.dsVatDungPhongLoading = false;\n            });\n        },\n        suaVatDungPhong(item: any) {\n            this.vatDungPhong = item;\n            this.isUpdateVatDungPhong = true;\n\n        },\n        saveVatDungPhong(): void {\n            this.$validator.validateAll('frmAddEdit').then((res) => {\n                if (res) {\n                    if (this.isUpdate) {\n                        this.vatDungPhong.Phong = undefined;\n                        this.loading = true;\n                        if (this.isUpdateVatDungPhong) {\n                            VatDungPhongApi.update(this.vatDungPhong.VatDungPhongID, this.vatDungPhong).then(res => {\n                                this.vatDungPhong = {} as VatDungPhong;\n                                this.loading = false;\n                                this.getDataFromApiVatDungPhong(this.searchParamsVatDungPhong);\n                                this.isUpdateVatDungPhong = false\n                            })\n                        }\n                        else {\n                            this.vatDungPhong.PhongID = this.phong.PhongID;\n                            VatDungPhongApi.insert(this.vatDungPhong).then(res => {\n                                this.vatDungPhong = {} as VatDungPhong;\n                                this.loading = false;\n                                this.getDataFromApiVatDungPhong(this.searchParamsVatDungPhong);\n                            })\n                        }\n                    }\n                    else {\n                        this.vatDungPhong.VatDungID = (this.vatDungPhong.VatDung as any).VatDungID;\n                        (this.dsVatDungPhong).push(this.vatDungPhong);\n                        this.vatDungPhong = {} as VatDungPhong;\n                    }\n                }\n\n            });\n        },\n        save(): void {\n            this.$validator.validateAll('frmAddEdit').then((res) => {\n                if (res) {\n                    this.phong.LoaiPhong = undefined;\n                    this.phong.ThuePhong = undefined;\n                    this.phong.VatDungPhong = undefined;\n                    if (this.isUpdate) {\n                        PhongApi.update(this.phong.PhongID, this.phong).then(res => {\n                            this.loading = false;\n                            this.dialog = false;\n                            this.$emit(\"getLaiDanhSach\");\n                            this.$snotify.success('Cập nhật thành công!');\n                        }).catch(res => {\n                            this.loading = false;\n                            this.$snotify.error('Cập nhật thất bại!');\n                        });\n                    } else {\n                        this.loading = true;\n                        this.vatDungPhong.VatDung = undefined;\n                        this.phong.VatDungPhong = this.dsVatDungPhong;\n                        PhongApi.insert(this.phong).then(res => {\n                            this.dialog = false;\n                            this.$emit(\"getLaiDanhSach\");\n                            this.phong = res;\n                            this.isUpdate = true;\n                            this.loading = false;\n                            this.$snotify.success('Thêm mới thành công!');\n                        }).catch(res => {\n                            this.loading = false;\n                            this.$snotify.error('Thêm mới thất bại!');\n                        }); 2\n                    }\n                }\n            });\n        },\n\n        getDataVatDungFromApi(): void {\n            this.loading = true;\n            VatDungApi.search(this.searchParamsVatDung).then(response => {\n                this.dsVatDung = response.Data;\n                this.loading = false;\n            })\n        },\n        getDataLoaiPhongFromApi(): void {\n            this.loading = true;\n            LoaiPhongApi.search(this.searchParamsLoaiPhong).then(response => {\n                this.dsLoaiPhong = response.Data;\n                this.loading = false;\n            })\n        },\n    }\n});\n"],"sourceRoot":""}]}