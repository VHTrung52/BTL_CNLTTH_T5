{"remainingRequest":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js??ref--13-2!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\PhieuNhapKho\\ThemSuaPhieuNhapKho.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\PhieuNhapKho\\ThemSuaPhieuNhapKho.vue","mtime":1603960010000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\.babelrc","mtime":1603960008000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport \"core-js/modules/es6.object.assign\";\nimport { Vue } from 'vue-property-decorator';\nimport PhieuNhapKhoApi from '@/apiResources/PhieuNhapKhoApi';\nimport ChiTietPhieuNhapApi from '@/apiResources/ChiTietPhieuNhapApi';\nimport NhanVienApi from '@/apiResources/NhanVienApi';\nimport VatDungApi from '@/apiResources/VatDungApi';\nimport store from '@/store/store';\nexport default Vue.extend({\n  $_veeValidate: {\n    validator: 'new'\n  },\n  components: {},\n  data: function data() {\n    return {\n      dialog: false,\n      isUpdate: false,\n      dsNhanVien: [],\n      phieuNhapKho: {},\n      chiTietPhieuNhap: {},\n      dsChiTietPhieuNhap: [],\n      selectedPhieuNhapKho: {},\n      searchVatDung: {},\n      dsVatDung: [],\n      searchChiTietPhieuNhap: '',\n      searchParamsChiTietPhieuNhap: {\n        includeEntities: true\n      },\n      tableHeaderChiTietPhieuNhap: [{\n        text: 'STT',\n        value: 'ChiTietPhieuNhapID',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Vật dụng',\n        value: 'VatDung',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Số lượng',\n        value: 'SoLuong',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Giá nhập',\n        value: 'GiaNhap',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Ghi chú',\n        value: 'GhiChu',\n        align: 'center',\n        sortable: true\n      }, {\n        text: 'Thao tác',\n        value: '#',\n        align: 'center',\n        sortable: true\n      }],\n      dialogConfirmDelete: false,\n      searchParamsPhieuNhapKho: {\n        phieuNhapID: null\n      },\n      isUpdateChiTiet: false,\n      TongTien: 0\n    };\n  },\n  watch: {},\n  created: function created() {\n    this.getNhanVien();\n    this.getVatDung();\n  },\n  mounted: function mounted() {},\n  methods: {\n    show: function show(isUpdate, item) {\n      var _this = this;\n\n      this.dialog = true;\n      this.isUpdate = isUpdate;\n      this.isUpdateChiTiet = false;\n      this.chiTietPhieuNhap = {};\n      this.dsChiTietPhieuNhap = [];\n      this.phieuNhapKho = Object.assign({}, item);\n\n      if (isUpdate) {\n        this.searchParamsChiTietPhieuNhap.phieuNhapID = this.phieuNhapKho.PhieuNhapID;\n        ChiTietPhieuNhapApi.search(this.searchParamsChiTietPhieuNhap).then(function (res) {\n          _this.dsChiTietPhieuNhap = res.Data;\n        });\n      }\n    },\n    getVatDung: function getVatDung() {\n      var _this2 = this;\n\n      this.searchVatDung = {};\n      VatDungApi.search(this.searchVatDung).then(function (res) {\n        _this2.dsVatDung = res.Data;\n      });\n    },\n    showChiTiet: function showChiTiet(item) {\n      this.chiTietPhieuNhap = item;\n      this.isUpdateChiTiet = true;\n      this.TongTien = this.chiTietPhieuNhap.GiaNhap * this.chiTietPhieuNhap.SoLuong;\n    },\n    getDataFromApi: function getDataFromApi(id) {\n      var _this3 = this;\n\n      PhieuNhapKhoApi.detail(id).then(function (res) {\n        _this3.phieuNhapKho = res;\n      });\n    },\n    getDanhSachChiTiet: function getDanhSachChiTiet() {\n      var _this4 = this;\n\n      this.searchParamsChiTietPhieuNhap.phieuNhapID = this.phieuNhapKho.PhieuNhapID;\n      ChiTietPhieuNhapApi.search(this.searchParamsChiTietPhieuNhap).then(function (res) {\n        _this4.dsChiTietPhieuNhap = res.Data;\n      });\n    },\n    getNhanVien: function getNhanVien() {\n      var _this5 = this;\n\n      var search = {};\n      NhanVienApi.search(search).then(function (res) {\n        _this5.dsNhanVien = res.Data;\n      });\n    },\n    save: function save() {\n      var _this6 = this;\n\n      this.phieuNhapKho.NhanVienID = store.state.user.Profile.NhanVien.NhanVienID;\n      PhieuNhapKhoApi.update(this.phieuNhapKho.PhieuNhapID, this.phieuNhapKho).then(function (res) {\n        _this6.dialog = false;\n\n        _this6.$emit(\"getLaiDanhSach\");\n\n        _this6.isUpdate = false; //this.$snotify.success('Cập nhật thành công!');\n      }).catch(function (res) {\n        _this6.dialog = false; //this.$snotify.error('Cập nhật thất bại!');\n      });\n    },\n    saveChiTiet: function saveChiTiet() {\n      var _this7 = this;\n\n      if (this.chiTietPhieuNhap.SoLuong <= 0 || this.chiTietPhieuNhap.GiaNhap <= 0) {\n        this.$snotify.error(\"Giá trị không thể bé hơn 0!\");\n        return;\n      }\n\n      this.$validator.validateAll('frmAddEdit').then(function (res) {\n        if (res) {\n          _this7.phieuNhapKho.TongTien += _this7.chiTietPhieuNhap.GiaNhap * _this7.chiTietPhieuNhap.SoLuong - _this7.TongTien;\n          _this7.chiTietPhieuNhap.PhieuNhapID = _this7.phieuNhapKho.PhieuNhapID;\n\n          if (_this7.isUpdateChiTiet) {\n            ChiTietPhieuNhapApi.update(_this7.chiTietPhieuNhap.ChiTietPhieuNhapID, _this7.chiTietPhieuNhap).then(function (res) {\n              _this7.chiTietPhieuNhap = {};\n              _this7.isUpdateChiTiet = false;\n\n              _this7.getDanhSachChiTiet();\n\n              _this7.TongTien = 0;\n\n              _this7.$snotify.success('Cập nhật thành công!');\n            }).catch(function (res) {\n              _this7.$snotify.error('Cập nhật thất bại!');\n            });\n          } else {\n            ChiTietPhieuNhapApi.insert(_this7.chiTietPhieuNhap).then(function (res) {\n              _this7.getDanhSachChiTiet();\n\n              _this7.chiTietPhieuNhap = {};\n              _this7.TongTien = 0;\n\n              _this7.$snotify.success('Thêm mới thành công!');\n            }).catch(function (res) {\n              _this7.$snotify.error('Thêm mới thất bại!');\n            });\n          }\n        }\n      });\n    },\n    deleteChiTiet: function deleteChiTiet(item) {\n      var _this8 = this;\n\n      if (confirm(\"Do you really want to delete?\")) {\n        this.phieuNhapKho.TongTien -= item.SoLuong * item.GiaNhap;\n        ChiTietPhieuNhapApi.delete(item.ChiTietPhieuNhapID).then(function (res) {\n          _this8.$snotify.success('Xóa thành công!');\n\n          _this8.searchParamsChiTietPhieuNhap.phieuNhapID = _this8.phieuNhapKho.PhieuNhapID;\n          ChiTietPhieuNhapApi.search(_this8.searchParamsChiTietPhieuNhap).then(function (res) {\n            _this8.dsChiTietPhieuNhap = res.Data;\n          });\n          _this8.dialogConfirmDelete = false;\n        }).catch(function (res) {\n          _this8.$snotify.error('Xóa thất bại!');\n        });\n      }\n    }\n  }\n});",{"version":3,"sources":["D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\PhieuNhapKho\\ThemSuaPhieuNhapKho.vue?vue&type=script&lang=ts&"],"names":[],"mappings":"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","sourcesContent":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from 'vue-property-decorator';\nimport PhieuNhapKhoApi, { PhieuNhapKhoApiSearchParams } from '@/apiResources/PhieuNhapKhoApi';\nimport { PhieuNhapKho } from '@/models/PhieuNhapKho';\nimport { ChiTietPhieuNhap } from '@/models/ChiTietPhieuNhap';\nimport ChiTietPhieuNhapApi, { ChiTietPhieuNhapApiSearchParams } from '@/apiResources/ChiTietPhieuNhapApi';\nimport { NhanVien } from '@/models/NhanVien';\nimport NhanVienApi, { NhanVienApiSearchParams } from '@/apiResources/NhanVienApi';\nimport { VatDung } from '@/models/VatDung';\nimport VatDungApi, { VatDungApiSearchParams } from '@/apiResources/VatDungApi';\nimport store from '@/store/store';\n\nexport default Vue.extend({\n    $_veeValidate: {\n        validator: 'new'\n    },\n    components: {\n    },\n    data() {\n        return {\n            dialog: false,\n            isUpdate: false,\n            dsNhanVien: [] as NhanVien[],\n            phieuNhapKho: {} as PhieuNhapKho,\n            chiTietPhieuNhap: {} as ChiTietPhieuNhap,\n            dsChiTietPhieuNhap: [] as ChiTietPhieuNhap[],\n            selectedPhieuNhapKho: {} as ChiTietPhieuNhap,\n            searchVatDung: {} as VatDungApiSearchParams,\n            dsVatDung: [] as VatDung[],\n            searchChiTietPhieuNhap: '',\n            searchParamsChiTietPhieuNhap: { includeEntities: true } as ChiTietPhieuNhapApiSearchParams,\n            tableHeaderChiTietPhieuNhap: [\n                { text: 'STT', value: 'ChiTietPhieuNhapID', align: 'center', sortable: true },\n                { text: 'Vật dụng', value: 'VatDung', align: 'center', sortable: true },\n                { text: 'Số lượng', value: 'SoLuong', align: 'center', sortable: true },\n                { text: 'Giá nhập', value: 'GiaNhap', align: 'center', sortable: true },\n                { text: 'Ghi chú', value: 'GhiChu', align: 'center', sortable: true },\n                { text: 'Thao tác', value: '#', align: 'center', sortable: true },\n            ],\n            dialogConfirmDelete: false,\n            searchParamsPhieuNhapKho: { phieuNhapID: null as any } as PhieuNhapKhoApiSearchParams,\n            isUpdateChiTiet: false,\n            TongTien: 0,\n        }\n    },\n    watch: {\n    },\n    created() {\n        this.getNhanVien();\n        this.getVatDung();\n    },\n    mounted() {\n    },\n    methods: {\n        show(isUpdate: boolean, item: any): void {\n            this.dialog = true;\n            this.isUpdate = isUpdate;\n            this.isUpdateChiTiet = false;\n            this.chiTietPhieuNhap = {} as ChiTietPhieuNhap;\n            this.dsChiTietPhieuNhap = [] as ChiTietPhieuNhap[];\n            this.phieuNhapKho = Object.assign({}, item);\n            if (isUpdate) {\n                this.searchParamsChiTietPhieuNhap.phieuNhapID = this.phieuNhapKho.PhieuNhapID;\n                ChiTietPhieuNhapApi.search(this.searchParamsChiTietPhieuNhap).then(res => {\n                    this.dsChiTietPhieuNhap = res.Data;\n                });\n            }\n        },\n        getVatDung(): void {\n            this.searchVatDung = {} as VatDungApiSearchParams;\n            VatDungApi.search(this.searchVatDung).then(\n                res => {\n                    this.dsVatDung = res.Data;\n                }\n            )\n        },\n        showChiTiet(item: any): void {\n            this.chiTietPhieuNhap = item;\n            this.isUpdateChiTiet = true;\n            this.TongTien = this.chiTietPhieuNhap.GiaNhap * this.chiTietPhieuNhap.SoLuong;\n        },\n        getDataFromApi(id: number): void {\n            PhieuNhapKhoApi.detail(id).then(res => {\n                this.phieuNhapKho = res;\n            });\n        },\n        getDanhSachChiTiet(): void {\n            this.searchParamsChiTietPhieuNhap.phieuNhapID = this.phieuNhapKho.PhieuNhapID;\n            ChiTietPhieuNhapApi.search(this.searchParamsChiTietPhieuNhap).then(res => {\n                this.dsChiTietPhieuNhap = res.Data;\n            });\n        },\n        getNhanVien(): void {\n            var search = {} as NhanVienApiSearchParams;\n            NhanVienApi.search(search).then(res => {\n                this.dsNhanVien = res.Data;\n            });\n        },\n        save(): void {\n            this.phieuNhapKho.NhanVienID = store.state.user.Profile.NhanVien.NhanVienID;\n            PhieuNhapKhoApi.update(this.phieuNhapKho.PhieuNhapID, this.phieuNhapKho).then(res => {\n                this.dialog = false;\n                this.$emit(\"getLaiDanhSach\");\n                this.isUpdate = false;\n                //this.$snotify.success('Cập nhật thành công!');\n            }).catch(res => {\n                this.dialog = false;\n                //this.$snotify.error('Cập nhật thất bại!');\n            });\n        },\n        saveChiTiet(): void {\n            if (this.chiTietPhieuNhap.SoLuong <= 0 || this.chiTietPhieuNhap.GiaNhap <= 0) {\n                this.$snotify.error(\"Giá trị không thể bé hơn 0!\");\n                return;\n            }\n            this.$validator.validateAll('frmAddEdit').then((res) => {\n                if (res) {\n                    this.phieuNhapKho.TongTien += this.chiTietPhieuNhap.GiaNhap * this.chiTietPhieuNhap.SoLuong - this.TongTien;\n                    this.chiTietPhieuNhap.PhieuNhapID = this.phieuNhapKho.PhieuNhapID;\n                    if (this.isUpdateChiTiet) {\n                        ChiTietPhieuNhapApi.update(this.chiTietPhieuNhap.ChiTietPhieuNhapID, this.chiTietPhieuNhap).then(res => {\n                            this.chiTietPhieuNhap = {} as ChiTietPhieuNhap;\n                            this.isUpdateChiTiet = false;\n                            this.getDanhSachChiTiet();\n                            this.TongTien = 0;\n                            this.$snotify.success('Cập nhật thành công!');\n                        }).catch(res => {\n                            this.$snotify.error('Cập nhật thất bại!');\n                        });\n                    } else {\n                        ChiTietPhieuNhapApi.insert(this.chiTietPhieuNhap).then(res => {\n                            this.getDanhSachChiTiet();\n                            this.chiTietPhieuNhap = {} as ChiTietPhieuNhap;\n                            this.TongTien = 0;\n                            this.$snotify.success('Thêm mới thành công!');\n                        }).catch(res => {\n                            this.$snotify.error('Thêm mới thất bại!');\n                        });\n                    }\n                }\n            });\n        },\n        deleteChiTiet(item: any): void {\n            if (confirm(\"Do you really want to delete?\")) {\n                this.phieuNhapKho.TongTien -= item.SoLuong * item.GiaNhap;\n                ChiTietPhieuNhapApi.delete(item.ChiTietPhieuNhapID).then(res => {\n                    this.$snotify.success('Xóa thành công!');\n                    this.searchParamsChiTietPhieuNhap.phieuNhapID = this.phieuNhapKho.PhieuNhapID;\n                    ChiTietPhieuNhapApi.search(this.searchParamsChiTietPhieuNhap).then(res => {\n                        this.dsChiTietPhieuNhap = res.Data;\n                    });\n                    this.dialogConfirmDelete = false;\n                }).catch(res => {\n                    this.$snotify.error('Xóa thất bại!');\n                });\n            }\n        },\n    }\n});\n"],"sourceRoot":""}]}