{"remainingRequest":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\src\\components\\DatPhong\\ThemKhachDatPhong.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\src\\components\\DatPhong\\ThemKhachDatPhong.vue","mtime":1603956408958},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603956549663},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603956549663},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from 'vue-property-decorator';\nimport DatPhongApi, { DatPhongApiSearchParams } from '@/apiResources/DatPhongApi';\nimport { DatPhong } from '@/models/DatPhong';\nimport { LoaiPhong } from '@/models/LoaiPhong';\nimport LoaiPhongApi, { LoaiPhongApiSearchParams } from '@/apiResources/LoaiPhongApi';\n\nexport default Vue.extend({\n    components: {\n    },\n    data() {\n        return {\n\n            tableHeader: [\n                { text: 'Họ Tên', value: 'HoTen', align: 'center', sortable: true },\n                { text: 'Số Điện Thoại', value: 'SoDienThoai', align: 'center', sortable: true },\n                { text: 'Thời Gian Đặt', value: 'ThoiGianDat', align: 'center', sortable: true },\n                { text: 'Số Lượng Người', value: 'SoLuongNguoi', align: 'center', sortable: true },\n                { text: 'Số Ngày Đặt', value: 'SoNgayDat', align: 'center', sortable: true },\n\n            ],\n            searchParamsLoaiPhong: { includeEntities: true, rowsPerPage: 10 } as LoaiPhongApiSearchParams,\n            loadingTable: false,\n            DatPhong: [] as DatPhong[],\n            datPhong: {} as DatPhong,\n            dsLoaiPhong: [] as LoaiPhong[],\n            loading: false\n        }\n    },\n    watch: {\n    },\n    created() {\n        this.getDataFromApi()\n        this.$eventBus.$emit('getSoKhachDatPhong');\n        this.$eventBus.$emit('getSoKhachDatDichVu');\n    },\n    methods: {\n        getDataFromApi(): void {\n            LoaiPhongApi.search(this.searchParamsLoaiPhong).then(z => {\n                this.dsLoaiPhong = z.Data;\n            })\n        },\n        save(): void {\n            if (this.datPhong.SoLuongNguoi <= 0) {\n                this.$snotify.error(\"Vui lòng nhập đúng định dạng các trường!\");\n                return;\n            }\n            this.$validator.validateAll('frmAddEdit').then((res) => {\n                if (res) {\n                    this.datPhong.HoaDon = undefined;\n                    this.datPhong.LoaiPhong = undefined;\n                    this.datPhong.NhanVien = undefined;\n                    this.datPhong.TrangThai = 0;\n                    this.loading = true;\n                    DatPhongApi.insert(this.datPhong).then(res => {\n                        this.datPhong = {} as DatPhong;\n                        this.loading = false;\n                        this.$eventBus.$emit('getSoKhachDatPhong');\n                        this.$snotify.success('Đặt phòng thành công!');\n                    }).catch(res => {\n                        this.loading = false;\n                        this.$snotify.error('Đặt phòng thất bại!');\n                    });\n\n                }\n            });\n\n        },\n    }\n});\n",{"version":3,"sources":["ThemKhachDatPhong.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA","file":"ThemKhachDatPhong.vue","sourceRoot":"src\\components\\DatPhong","sourcesContent":["<template>\r\n    <v-layout style=\"width:fit-content\">\r\n        <v-img style=\"width:fit-content; height:860px\" src=\"https://images.pexels.com/photos/189296/pexels-photo-189296.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260\">\r\n            <v-layout row>\r\n                <v-flex xs8></v-flex>\r\n                <v-flex xs4 style=\"padding: 40px\">\r\n                    <v-card height=\"600\" style=\"border: 1px;border-radius: 15px\">\r\n                        <v-layout row wrap>\r\n                            <v-flex xs12>\r\n                                <v-card style=\"border: 1px;border-top-left-radius: 15px; border-top-right-radius: 15px\">\r\n\r\n                                        <h1 style=\"text-align: center\"> ĐẶT PHÒNG</h1>\r\n                                \r\n                                </v-card>\r\n                            </v-flex>\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-text-field v-model=\"datPhong.HoTen\"\r\n                                              label=\"Họ tên\"\r\n                                              :error-messages=\"errors.collect('Họ tên', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Họ tên\"\r\n                                              clearable></v-text-field>\r\n                            </v-flex>\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-text-field v-model=\"datPhong.SoDienThoai\"\r\n                                              label=\"Số điện thoại\"\r\n                                              :error-messages=\"errors.collect('Số điện thoại', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Số điện thoại\"\r\n                                              clearable></v-text-field>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-datepicker v-model=\"datPhong.ThoiGianDat\"\r\n                                              label=\"Thời Gian Đặt\"\r\n                                              :error-messages=\"errors.collect('Thời Gian Đặt', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Thời Gian Đặt\"\r\n                                              clearable>\r\n                                </v-datepicker>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-text-field v-model=\"datPhong.SoLuongNguoi\"\r\n                                              label=\"Số Lượng Người\"\r\n                                              :error-messages=\"errors.collect('Số Lượng Người', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Số Lượng Người\"\r\n                                              clearable></v-text-field>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-autocomplete :items=\"dsLoaiPhong\"\r\n                                                v-model=\"datPhong.LoaiPhongID\"\r\n                                                item-text=\"TenLoaiPhong\"\r\n                                                item-value=\"LoaiPhongID\"\r\n                                                label=\"Loại Phòng\"\r\n                                                :error-messages=\"errors.collect('Loại Phòng', 'frmAddEdit')\"\r\n                                                v-validate=\"'required'\"\r\n                                                data-vv-scope=\"frmAddEdit\"\r\n                                                data-vv-name=\"Loại Phòng\"\r\n                                                clearable></v-autocomplete>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-text-field v-model=\"datPhong.SoNgayDat\"\r\n                                              type=\"number\"\r\n                                              label=\"Số Ngày Đặt\"\r\n                                              :error-messages=\"errors.collect('Số Ngày Đặt', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Số Ngày Đặt\"\r\n                                              clearable></v-text-field>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 style=\"text-align: center\">\r\n                                <v-btn class=\"primary\" :disabled=\"loading\" :loading=\"loading\" @click.native=\"save\">Đặt Phòng</v-btn>\r\n                            </v-flex>\r\n\r\n                        </v-layout>\r\n                    </v-card>\r\n                </v-flex>\r\n            </v-layout>\r\n        </v-img>\r\n    </v-layout>\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { Vue } from 'vue-property-decorator';\r\n    import DatPhongApi, { DatPhongApiSearchParams } from '@/apiResources/DatPhongApi';\r\n    import { DatPhong } from '@/models/DatPhong';\r\n    import { LoaiPhong } from '@/models/LoaiPhong';\r\n    import LoaiPhongApi, { LoaiPhongApiSearchParams } from '@/apiResources/LoaiPhongApi';\r\n\r\n    export default Vue.extend({\r\n        components: {\r\n        },\r\n        data() {\r\n            return {\r\n\r\n                tableHeader: [\r\n                    { text: 'Họ Tên', value: 'HoTen', align: 'center', sortable: true },\r\n                    { text: 'Số Điện Thoại', value: 'SoDienThoai', align: 'center', sortable: true },\r\n                    { text: 'Thời Gian Đặt', value: 'ThoiGianDat', align: 'center', sortable: true },\r\n                    { text: 'Số Lượng Người', value: 'SoLuongNguoi', align: 'center', sortable: true },\r\n                    { text: 'Số Ngày Đặt', value: 'SoNgayDat', align: 'center', sortable: true },\r\n\r\n                ],\r\n                searchParamsLoaiPhong: { includeEntities: true, rowsPerPage: 10 } as LoaiPhongApiSearchParams,\r\n                loadingTable: false,\r\n                DatPhong: [] as DatPhong[],\r\n                datPhong: {} as DatPhong,\r\n                dsLoaiPhong: [] as LoaiPhong[],\r\n                loading: false\r\n            }\r\n        },\r\n        watch: {\r\n        },\r\n        created() {\r\n            this.getDataFromApi()\r\n            this.$eventBus.$emit('getSoKhachDatPhong');\r\n            this.$eventBus.$emit('getSoKhachDatDichVu');\r\n        },\r\n        methods: {\r\n            getDataFromApi(): void {\r\n                LoaiPhongApi.search(this.searchParamsLoaiPhong).then(z => {\r\n                    this.dsLoaiPhong = z.Data;\r\n                })\r\n            },\r\n            save(): void {\r\n                if (this.datPhong.SoLuongNguoi <= 0) {\r\n                    this.$snotify.error(\"Vui lòng nhập đúng định dạng các trường!\");\r\n                    return;\r\n                }\r\n                this.$validator.validateAll('frmAddEdit').then((res) => {\r\n                    if (res) {\r\n                        this.datPhong.HoaDon = undefined;\r\n                        this.datPhong.LoaiPhong = undefined;\r\n                        this.datPhong.NhanVien = undefined;\r\n                        this.datPhong.TrangThai = 0;\r\n                        this.loading = true;\r\n                        DatPhongApi.insert(this.datPhong).then(res => {\r\n                            this.datPhong = {} as DatPhong;\r\n                            this.loading = false;\r\n                            this.$eventBus.$emit('getSoKhachDatPhong');\r\n                            this.$snotify.success('Đặt phòng thành công!');\r\n                        }).catch(res => {\r\n                            this.loading = false;\r\n                            this.$snotify.error('Đặt phòng thất bại!');\r\n                        });\r\n\r\n                    }\r\n                });\r\n\r\n            },\r\n        }\r\n    });\r\n</script>\r\n\r\n"]}]}