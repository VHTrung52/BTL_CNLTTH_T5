{"remainingRequest":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\KiemKe\\ModalChiTietKiemKe.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\KiemKe\\ModalChiTietKiemKe.vue","mtime":1603960010000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from 'vue-property-decorator';\nimport KiemKeApi, { KiemKeApiSearchParams } from '@/apiResources/KiemKeApi';\nimport { KiemKe } from '@/models/KiemKe';\nimport { ChiTietKiemKe } from '@/models/ChiTietKiemKe';\nimport ChiTietKiemKeApi, { ChiTietKiemKeApiSearchParams } from '@/apiResources/ChiTietKiemKeApi';\nimport { VatDungPhong } from '@/models/VatDungPhong';\nimport VatDungPhongApi, { VatDungPhongApiSearchParams } from '@/apiResources/VatDungPhongApi';\nimport { Phong } from '@/models/Phong';\nimport PhongApi, { PhongApiSearchParams } from '@/apiResources/PhongApi';\nimport { LoaiPhong } from '@/models/LoaiPhong';\nimport LoaiPhongApi, { LoaiPhongApiSearchParams } from '@/apiResources/LoaiPhongApi';\n\nexport default Vue.extend({\n    $_veeValidate: {\n        validator: 'new'\n    },\n    components: {},\n    data() {\n        return {\n            dialog: false,\n            isUpdate: false,\n            dsVatDungPhong: [] as VatDungPhong[],\n            dsChiTietKiemKe: [] as ChiTietKiemKe[],\n            dsPhong: [] as Phong[],\n            dsLoaiPhong: [] as LoaiPhong[],\n            chiTietKiemKe: {} as ChiTietKiemKe,\n            dsChiTietKiemKeLoading: false,\n            searchChiTietKiemKe: '',\n            searchParamsChiTietKiemKe: { includeEntities: true, rowsPerPage: 10 } as ChiTietKiemKeApiSearchParams,\n            searchParamsVatDungPhong: { includeEntities: true } as VatDungPhongApiSearchParams,\n            searchParamsPhong: { includeEntities: true } as PhongApiSearchParams,\n            searchParamsLoaiPhong: { includeEntities: true } as LoaiPhongApiSearchParams,\n            searchLoaiPhong: '',\n            searchPhong: '',\n            tableHeaderChiTietKiemKe: [\n                { text: '#', value: 'ChiTietKiemKeID', align: 'center', sortable: true },\n                { text: 'Số phòng', value: 'VatDungPhongID', align: 'center', sortable: true },\n                { text: 'Tên vật dụng', value: 'VatDungPhongID', align: 'center', sortable: true },\n                { text: 'Số lượng quy định', value: 'VatDungPhongID', align: 'center', sortable: true },\n                { text: 'Số lượng kiểm kê', value: 'SoLuongKiemKe', align: 'center', sortable: true },\n                { text: 'Ghi chú', value: 'GhiChu', align: 'center', sortable: true },\n            ],\n            loading: false,\n        }\n    },\n    watch: {\n    },\n    methods: {\n        show(id:number) {\n            this.dialog = true;\n            this.dsChiTietKiemKe = [] as ChiTietKiemKe[];\n            this.searchParamsPhong.loaiPhongID = null as any;\n            this.searchParamsChiTietKiemKe.phongID = null as any;\n            this.getDSLoaiPhong();\n            this.searchParamsChiTietKiemKe.kiemKeID = id;\n            this.getDSChiTietKiemKe();\n        },\n        getDSChiTietKiemKe(): void {\n            ChiTietKiemKeApi.getds(this.searchParamsChiTietKiemKe).then(res => {\n                this.dsChiTietKiemKe = res.Data;\n            });\n        },\n        save() {\n            this.loading = true;\n            ChiTietKiemKeApi.updateDanhSach(this.dsChiTietKiemKe).then(res => {\n                this.loading = false;\n                this.$emit(\"getLaiKiemKe\");\n                this.$snotify.success(\"Cập nhật thành công!\");\n            })\n        },\n        getDSPhong(): void {\n            PhongApi.search(this.searchParamsPhong).then(res => {\n                this.dsPhong = res.Data;\n            });\n        },\n        getDSLoaiPhong(): void {\n            LoaiPhongApi.search(this.searchParamsLoaiPhong).then(res => {\n                this.dsLoaiPhong = res.Data;\n            });\n        },\n    }\n});\n",{"version":3,"sources":["ModalChiTietKiemKe.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ModalChiTietKiemKe.vue","sourceRoot":"src\\components\\KiemKe","sourcesContent":["<template>\r\n    <v-dialog v-model=\"dialog\" width=\"800\" persistent scrollable>\r\n        <v-container pa-0 grid-list-md>\r\n            <v-card>\r\n                <v-card-title class=\"primary white--text\" style=\"padding: 5px 15px 5px 15px\">\r\n                    <h3>Chi tiết kiểm kê</h3>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn class=\"white--text ma-0\" small @click.native=\"dialog = false\" icon dark><v-icon>close</v-icon></v-btn>\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    <v-layout row wrap>\r\n                        <v-flex xs12>\r\n                            <v-layout nowrap>\r\n                                <v-flex xs4>\r\n                                    <v-autocomplete v-model=\"searchParamsPhong.loaiPhongID\"\r\n                                                    :items=\"dsLoaiPhong\"\r\n                                                    :search-input.sync=\"searchLoaiPhong\"\r\n                                                    item-text=\"TenLoaiPhong\"\r\n                                                    item-value=\"LoaiPhongID\"\r\n                                                    label=\"Loại phòng\"\r\n                                                    placeholder=\"Chọn loại phòng\"\r\n                                                    @change=\"getDSPhong()\"\r\n                                                    clearable></v-autocomplete>\r\n                                </v-flex>\r\n                                <v-flex xs4>\r\n                                    <v-autocomplete v-model=\"searchParamsChiTietKiemKe.phongID\"\r\n                                                    :items=\"dsPhong\"\r\n                                                    :search-input.sync=\"searchPhong\"\r\n                                                    item-text=\"SoPhong\"\r\n                                                    item-value=\"PhongID\"\r\n                                                    label=\"Phòng\"\r\n                                                    placeholder=\"Chọn phòng\"\r\n                                                    :error-messages=\"errors.collect('Phòng', 'frmAddEdit')\"\r\n                                                    v-validate=\"''\"\r\n                                                    data-vv-scope=\"frmAddEdit\"\r\n                                                    data-vv-name=\"Phòng\"\r\n                                                    @change=\"getDSChiTietKiemKe()\"\r\n                                                    clearable></v-autocomplete>\r\n                                </v-flex>\r\n                            </v-layout>\r\n                        </v-flex>\r\n                        <v-flex xs12>\r\n                            <v-data-table :headers=\"tableHeaderChiTietKiemKe\"\r\n                                          :items=\"dsChiTietKiemKe\"\r\n                                          :pagination.sync=\"searchParamsChiTietKiemKe\"\r\n                                          :total-items=\"searchParamsChiTietKiemKe.totalItems\"\r\n                                          class=\"table-border table\">\r\n                                <template slot=\"items\" slot-scope=\"props\">\r\n                                    <td>{{ props.index + 1 }}</td>\r\n                                    <td>{{ props.item.SoPhong}}</td>\r\n                                    <td>{{ props.item.TenVatDung}}</td>\r\n                                    <td>{{ props.item.SoLuong }}</td>\r\n                                    <td>\r\n                                        <v-text-field type=\"number\" hide-details style=\"padding: 0px; text-align:center\"\r\n                                                      v-model=\"props.item.SoLuongKiemKe\"></v-text-field>\r\n                                    </td>\r\n                                    <td>\r\n                                        <v-text-field hide-details style=\"padding: 0px\"\r\n                                                      v-model=\"props.item.GhiChu\"></v-text-field>\r\n                                    </td>\r\n                                </template>\r\n                            </v-data-table>\r\n                        </v-flex>\r\n                    </v-layout>\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn class=\"primary\" :disabled=\"loading\" :loading=\"loading\" @click.native=\"save\">Lưu lại</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-container>\r\n    </v-dialog>\r\n</template>\r\n<script lang=\"ts\">\r\n    import { Vue } from 'vue-property-decorator';\r\n    import KiemKeApi, { KiemKeApiSearchParams } from '@/apiResources/KiemKeApi';\r\n    import { KiemKe } from '@/models/KiemKe';\r\n    import { ChiTietKiemKe } from '@/models/ChiTietKiemKe';\r\n    import ChiTietKiemKeApi, { ChiTietKiemKeApiSearchParams } from '@/apiResources/ChiTietKiemKeApi';\r\n    import { VatDungPhong } from '@/models/VatDungPhong';\r\n    import VatDungPhongApi, { VatDungPhongApiSearchParams } from '@/apiResources/VatDungPhongApi';\r\n    import { Phong } from '@/models/Phong';\r\n    import PhongApi, { PhongApiSearchParams } from '@/apiResources/PhongApi';\r\n    import { LoaiPhong } from '@/models/LoaiPhong';\r\n    import LoaiPhongApi, { LoaiPhongApiSearchParams } from '@/apiResources/LoaiPhongApi';\r\n\r\n    export default Vue.extend({\r\n        $_veeValidate: {\r\n            validator: 'new'\r\n        },\r\n        components: {},\r\n        data() {\r\n            return {\r\n                dialog: false,\r\n                isUpdate: false,\r\n                dsVatDungPhong: [] as VatDungPhong[],\r\n                dsChiTietKiemKe: [] as ChiTietKiemKe[],\r\n                dsPhong: [] as Phong[],\r\n                dsLoaiPhong: [] as LoaiPhong[],\r\n                chiTietKiemKe: {} as ChiTietKiemKe,\r\n                dsChiTietKiemKeLoading: false,\r\n                searchChiTietKiemKe: '',\r\n                searchParamsChiTietKiemKe: { includeEntities: true, rowsPerPage: 10 } as ChiTietKiemKeApiSearchParams,\r\n                searchParamsVatDungPhong: { includeEntities: true } as VatDungPhongApiSearchParams,\r\n                searchParamsPhong: { includeEntities: true } as PhongApiSearchParams,\r\n                searchParamsLoaiPhong: { includeEntities: true } as LoaiPhongApiSearchParams,\r\n                searchLoaiPhong: '',\r\n                searchPhong: '',\r\n                tableHeaderChiTietKiemKe: [\r\n                    { text: '#', value: 'ChiTietKiemKeID', align: 'center', sortable: true },\r\n                    { text: 'Số phòng', value: 'VatDungPhongID', align: 'center', sortable: true },\r\n                    { text: 'Tên vật dụng', value: 'VatDungPhongID', align: 'center', sortable: true },\r\n                    { text: 'Số lượng quy định', value: 'VatDungPhongID', align: 'center', sortable: true },\r\n                    { text: 'Số lượng kiểm kê', value: 'SoLuongKiemKe', align: 'center', sortable: true },\r\n                    { text: 'Ghi chú', value: 'GhiChu', align: 'center', sortable: true },\r\n                ],\r\n                loading: false,\r\n            }\r\n        },\r\n        watch: {\r\n        },\r\n        methods: {\r\n            show(id:number) {\r\n                this.dialog = true;\r\n                this.dsChiTietKiemKe = [] as ChiTietKiemKe[];\r\n                this.searchParamsPhong.loaiPhongID = null as any;\r\n                this.searchParamsChiTietKiemKe.phongID = null as any;\r\n                this.getDSLoaiPhong();\r\n                this.searchParamsChiTietKiemKe.kiemKeID = id;\r\n                this.getDSChiTietKiemKe();\r\n            },\r\n            getDSChiTietKiemKe(): void {\r\n                ChiTietKiemKeApi.getds(this.searchParamsChiTietKiemKe).then(res => {\r\n                    this.dsChiTietKiemKe = res.Data;\r\n                });\r\n            },\r\n            save() {\r\n                this.loading = true;\r\n                ChiTietKiemKeApi.updateDanhSach(this.dsChiTietKiemKe).then(res => {\r\n                    this.loading = false;\r\n                    this.$emit(\"getLaiKiemKe\");\r\n                    this.$snotify.success(\"Cập nhật thành công!\");\r\n                })\r\n            },\r\n            getDSPhong(): void {\r\n                PhongApi.search(this.searchParamsPhong).then(res => {\r\n                    this.dsPhong = res.Data;\r\n                });\r\n            },\r\n            getDSLoaiPhong(): void {\r\n                LoaiPhongApi.search(this.searchParamsLoaiPhong).then(res => {\r\n                    this.dsLoaiPhong = res.Data;\r\n                });\r\n            },\r\n        }\r\n    });\r\n</script>\r\n\r\n"]}]}