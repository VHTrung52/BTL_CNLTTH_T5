{"remainingRequest":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\BaoCao\\BaoCaoDoanhThu.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\BaoCao\\BaoCaoDoanhThu.vue","mtime":1603960010000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from 'vue-property-decorator';\nimport { HTTP } from '@/HTTPServices';\nimport APIS from '@/apisServer';\nimport { HoaDon } from '@/models/HoaDon';\nimport HoaDonApi, { HoaDonApiSearchParams } from '@/apiResources/HoaDonApi';\n\nexport default Vue.extend({\n    components: {},\n    data() {\n        return {\n            APIS: APIS,\n            dsHoaDon: [] as HoaDon[],\n            tableHeader: [\n                { text: 'STT', value: 'HoaDonID', align: 'center', sortable: true },\n                { text: 'Mã hóa đơn', value: 'MaHoaDon', align: 'center', sortable: true },\n                { text: 'Tên khách hàng', value: 'KhachHang.KhachHangID', align: 'center', sortable: true },\n                { text: 'Số điện thoại', value: 'KhachHang.KhachHangID', align: 'center', sortable: true },\n                { text: 'Ngày nhận phòng', value: 'NgayThanhToan', align: 'center', sortable: true },\n                { text: 'Tổng tiền', value: 'TongTien', align: 'center', sortable: true },\n                { text: 'Thu ngân', value: 'NgayThanhToan', align: 'center', sortable: true },\n            ],\n            searchParamsHoaDon: { includeEntities: true, rowsPerPage: 10, tinhTrang: -1 } as HoaDonApiSearchParams,\n            loadingTable: false,\n            page: 1,\n        }\n    },\n    watch: {\n\n    },\n    computed: {\n\n    },\n    created() {\n        this.searchParamsHoaDon.tuNgay = this.$moment().startOf('month');\n        this.searchParamsHoaDon.denNgay = new Date();\n        this.searchParamsHoaDon.trangThai = true\n    },\n    methods: {\n        getDataFromApi(searchParamsHoaDon: HoaDonApiSearchParams): void {\n            this.loadingTable = true;\n            HoaDonApi.search(searchParamsHoaDon).then(res => {\n                this.dsHoaDon = res.Data;\n                this.searchParamsHoaDon.totalItems = res.Pagination.totalItems;\n                this.loadingTable = false;\n            });\n        },\n        exportFile() {\n            return APIS.HOST + 'Export/ExportHoaDon?tuNgay=' + this.searchParamsHoaDon.tuNgay +\n                '&denNgay=' + this.searchParamsHoaDon.denNgay;\n        },\n        soSanhNgay(tuNgay: Date, denNgay: Date) {\n            if (tuNgay.toString().slice(0, 10) == denNgay.toString().slice(0, 10)) {\n                return true;\n            }\n            else return false;\n        }\n    }\n});\n",{"version":3,"sources":["BaoCaoDoanhThu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BaoCaoDoanhThu.vue","sourceRoot":"src\\components\\BaoCao","sourcesContent":["<template>\r\n    <v-card width=\"100%\" style=\"padding: 20px\">\r\n        <v-layout row wrap>\r\n            <v-flex xs12>\r\n                <h3>Thống kê doanh thu</h3>\r\n            </v-flex>\r\n            <v-flex xs12>\r\n                <v-layout norwap>\r\n                    <v-flex xs6 md5>\r\n                        <v-text-field label=\"Tìm kiếm\"\r\n                                      append-icon=\"search\"\r\n                                      placeholder=\"Nhập mã hóa đơn, họ tên, SĐT khách hàng ...\"\r\n                                      hide-details\r\n                                      v-model=\"searchParamsHoaDon.query\"\r\n                                      @input=\"getDataFromApi(searchParamsHoaDon)\">\r\n\r\n                        </v-text-field>\r\n                    </v-flex>\r\n                    <v-flex xs2>\r\n                        <v-datepicker v-model=\"searchParamsHoaDon.tuNgay\" label=\"Từ ngày\" ma-0 pa-0\r\n                                      hide-details @input=\"getDataFromApi(searchParamsHoaDon)\"></v-datepicker>\r\n                    </v-flex>\r\n                    <v-flex xs2>\r\n                        <v-datepicker v-model=\"searchParamsHoaDon.denNgay\" label=\"Đến ngày\" ma-0 pa-0\r\n                                      hide-details @input=\"getDataFromApi(searchParamsHoaDon)\"></v-datepicker>\r\n                    </v-flex>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn small color=\"primary\" :href=\"exportFile()\" target=\"_blank\" class=\"ma-0\">\r\n                        Tải xuống\r\n                    </v-btn>\r\n                </v-layout>\r\n            </v-flex>\r\n            <v-flex xs12>\r\n                <v-data-table :headers=\"tableHeader\"\r\n                              :items=\"dsHoaDon\"\r\n                              @update:pagination=\"getDataFromApi\" :pagination.sync=\"searchParamsHoaDon\"\r\n                              :total-items=\"searchParamsHoaDon.totalItems\"\r\n                              :loading=\"loadingTable\"\r\n                              class=\"table-border table\">\r\n                    <template slot=\"items\" slot-scope=\"props\">\r\n                        <td>{{ props.index + 1 }}</td>\r\n                        <td>{{ props.item.MaHoaDon }}</td>\r\n                        <td>{{ props.item.KhachHang ? props.item.KhachHang.HoTen : ''}}</td>\r\n                        <td>{{ props.item.KhachHang ? props.item.KhachHang.SoDienThoai : ''}}</td>\r\n                        <td>{{ props.item.ThoiGianNhanPhong === null ? \"\" : props.item.ThoiGianNhanPhong|moment('DD/MM/YYYY HH:mm:ss') }}</td>\r\n                        <td>{{ (props.item.TongThanhToan != 0) ? (props.item.TongThanhToan + (props.item.PhuThu? props.item.PhuThu: 0)) : 0}}</td>\r\n                        <td>{{ props.item.NhanVien ? props.item.NhanVien.TenNhanVien : \"\" }}</td>\r\n                        \r\n                    </template>\r\n                </v-data-table>\r\n            </v-flex>\r\n        </v-layout>\r\n    </v-card>\r\n</template>\r\n<script lang=\"ts\">\r\n    import { Vue } from 'vue-property-decorator';\r\n    import { HTTP } from '@/HTTPServices';\r\n    import APIS from '@/apisServer';\r\n    import { HoaDon } from '@/models/HoaDon';\r\n    import HoaDonApi, { HoaDonApiSearchParams } from '@/apiResources/HoaDonApi';\r\n\r\n    export default Vue.extend({\r\n        components: {},\r\n        data() {\r\n            return {\r\n                APIS: APIS,\r\n                dsHoaDon: [] as HoaDon[],\r\n                tableHeader: [\r\n                    { text: 'STT', value: 'HoaDonID', align: 'center', sortable: true },\r\n                    { text: 'Mã hóa đơn', value: 'MaHoaDon', align: 'center', sortable: true },\r\n                    { text: 'Tên khách hàng', value: 'KhachHang.KhachHangID', align: 'center', sortable: true },\r\n                    { text: 'Số điện thoại', value: 'KhachHang.KhachHangID', align: 'center', sortable: true },\r\n                    { text: 'Ngày nhận phòng', value: 'NgayThanhToan', align: 'center', sortable: true },\r\n                    { text: 'Tổng tiền', value: 'TongTien', align: 'center', sortable: true },\r\n                    { text: 'Thu ngân', value: 'NgayThanhToan', align: 'center', sortable: true },\r\n                ],\r\n                searchParamsHoaDon: { includeEntities: true, rowsPerPage: 10, tinhTrang: -1 } as HoaDonApiSearchParams,\r\n                loadingTable: false,\r\n                page: 1,\r\n            }\r\n        },\r\n        watch: {\r\n\r\n        },\r\n        computed: {\r\n\r\n        },\r\n        created() {\r\n            this.searchParamsHoaDon.tuNgay = this.$moment().startOf('month');\r\n            this.searchParamsHoaDon.denNgay = new Date();\r\n            this.searchParamsHoaDon.trangThai = true\r\n        },\r\n        methods: {\r\n            getDataFromApi(searchParamsHoaDon: HoaDonApiSearchParams): void {\r\n                this.loadingTable = true;\r\n                HoaDonApi.search(searchParamsHoaDon).then(res => {\r\n                    this.dsHoaDon = res.Data;\r\n                    this.searchParamsHoaDon.totalItems = res.Pagination.totalItems;\r\n                    this.loadingTable = false;\r\n                });\r\n            },\r\n            exportFile() {\r\n                return APIS.HOST + 'Export/ExportHoaDon?tuNgay=' + this.searchParamsHoaDon.tuNgay +\r\n                    '&denNgay=' + this.searchParamsHoaDon.denNgay;\r\n            },\r\n            soSanhNgay(tuNgay: Date, denNgay: Date) {\r\n                if (tuNgay.toString().slice(0, 10) == denNgay.toString().slice(0, 10)) {\r\n                    return true;\r\n                }\r\n                else return false;\r\n            }\r\n        }\r\n    });\r\n</script>\r\n\r\n<style>\r\n    .xxx .theme--light.v-pagination .v-pagination__item {\r\n        display: -webkit-box !important;\r\n        background: #fff;\r\n        color: #000;\r\n        width: auto;\r\n        min-width: 34px;\r\n        padding: 0 5px;\r\n    }\r\n</style>"]}]}