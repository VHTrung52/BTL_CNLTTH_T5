{"remainingRequest":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\DatDichVu\\ThemKhachDatDichVu.vue?vue&type=script&lang=ts&","dependencies":[{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\src\\components\\DatDichVu\\ThemKhachDatDichVu.vue","mtime":1603960010000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1605537925844},{"path":"D:\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\TestFinal\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n    import { Vue } from 'vue-property-decorator';\n    import DatPhongApi, { DatPhongApiSearchParams } from '@/apiResources/DatPhongApi';\n    import { DatPhong } from '@/models/DatPhong';\n    import { LoaiPhong } from '@/models/LoaiPhong';\n    import LoaiPhongApi, { LoaiPhongApiSearchParams } from '@/apiResources/LoaiPhongApi';\n\n    import { DatDichVuApiSearchParams } from '@/apiResources/DatDichVuApi';\n    import { DichVu } from '@/models/DichVu';\nimport DichVuApi from '@/apiResources/DichVuApi';\n\n    export default Vue.extend({\n        components: {\n        },\n        data() {\n            return {\n\n                tableHeader: [\n                    { text: 'Họ Tên', value: 'HoTen', align: 'center', sortable: true },\n                    { text: 'Số Điện Thoại', value: 'SoDienThoai', align: 'center', sortable: true },\n                    { text: 'Thời Gian Đặt', value: 'ThoiGianDat', align: 'center', sortable: true },\n                    { text: 'Số Lượng Người', value: 'SoLuongNguoi', align: 'center', sortable: true },\n                    { text: 'Số Ngày Đặt', value: 'SoNgayDat', align: 'center', sortable: true },\n\n                ],\n                searchParamsDichVu: { includeEntities: true, rowsPerPage: 10 } as DatDichVuApiSearchParams,\n                loadingTable: false,\n                DatPhong: [] as DatPhong[],\n                datPhong: {} as DatPhong,\n                dsDichVu: [] as DichVu[],\n                loading: false\n            }\n        },\n        watch: {\n        },\n        created() {\n            this.getDataFromApi()\n        },\n        methods: {\n            getDataFromApi(): void {\n                DichVuApi.search(this.searchParamsDichVu).then(z => {\n                    this.dsDichVu = z.Data;\n                })\n            },\n            save(): void {\n                if ( this.datPhong.SoLuongNguoi <= 0) {\n                    this.$snotify.error(\"Vui lòng nhập đúng định dạng các trường!\");\n                    return;\n                }\n                this.$validator.validateAll('frmAddEdit').then((res) => {\n                 \n                        if (res) {\n                            this.datPhong.HoaDon = undefined;\n                            this.datPhong.LoaiPhong = undefined;\n                            this.datPhong.NhanVien = undefined;\n                            this.datPhong.TrangThai = 0;\n                            this.loading = true;\n                       \n                                DatPhongApi.insert(this.datPhong).then(res => {\n\n                                    this.datPhong = {} as DatPhong;\n                                    this.loading = false;\n                                    this.$eventBus.$emit('getSoKhachDatDichVu');\n                                    this.$snotify.success('Đặt dịch vụ thành công!');\n\n                                }).catch(res => {\n                                    this.loading = false;\n                                    this.$snotify.error('Đặt dịch vụ thất bại!');\n                                });\n                        }\n                    \n                });\n\n            },\n        }\n    });\n",{"version":3,"sources":["ThemKhachDatDichVu.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA","file":"ThemKhachDatDichVu.vue","sourceRoot":"src\\components\\DatDichVu","sourcesContent":["<template>\r\n    <v-layout style=\"width:fit-content\">\r\n        <v-img style=\"width:fit-content; height:860px\" src=\"https://images.pexels.com/photos/1395966/pexels-photo-1395966.jpeg?auto=compress&cs=tinysrgb&dpr=3&h=750&w=1260\">\r\n            <v-layout row>\r\n                <v-flex xs8></v-flex>\r\n                <v-flex xs4 style=\"padding: 40px\">\r\n                    <v-card height=\"500\" style=\"border: 1px;border-radius: 15px\">\r\n                        <v-layout row wrap>\r\n                            <v-flex xs12>\r\n                                <v-card style=\"border: 1px;border-top-left-radius: 15px; border-top-right-radius: 15px\">\r\n                                    <h1 style=\"text-align: center\"> ĐẶT DỊCH VỤ</h1>\r\n                                </v-card>\r\n                            </v-flex>\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-text-field v-model=\"datPhong.HoTen\"\r\n                                              label=\"Họ tên\"\r\n                                              :error-messages=\"errors.collect('Họ tên', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Họ tên\"\r\n                                              clearable></v-text-field>\r\n                            </v-flex>\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-text-field v-model=\"datPhong.SoDienThoai\"\r\n                                              label=\"Số điện thoại\"\r\n                                              :error-messages=\"errors.collect('Số điện thoại', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Số điện thoại\"\r\n                                              clearable></v-text-field>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-datepicker\r\n                                            v-model=\"datPhong.ThoiGianDat\"\r\n                                            label=\"Thời gian đặt\"\r\n                                            :error-messages=\"errors.collect('Thời Gian Đặt', 'frmAddEdit')\"\r\n                                            v-validate=\"'required'\"\r\n                                            data-vv-scope=\"frmAddEdit\"\r\n                                            data-vv-name=\"Thời Gian Đặt\"\r\n                                            clearable>\r\n                                </v-datepicker>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-text-field v-model=\"datPhong.SoLuongNguoi\"\r\n                                              label=\"Số lượng người\"\r\n                                              :error-messages=\"errors.collect('Số Lượng Người', 'frmAddEdit')\"\r\n                                              v-validate=\"'required'\"\r\n                                              data-vv-scope=\"frmAddEdit\"\r\n                                              data-vv-name=\"Số Lượng Người\"\r\n                                              clearable></v-text-field>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 pl-5 pr-5>\r\n                                <v-autocomplete :items=\"dsDichVu\"\r\n                                                v-model=\"datPhong.DichVuID\"\r\n                                                item-text=\"TenDichVu\"\r\n                                                item-value=\"DichVuID\"\r\n                                                label=\"Dịch vụ\"\r\n                                                :error-messages=\"errors.collect('Dịch Vụ', 'frmAddEdit')\"\r\n                                                v-validate=\"'required'\"\r\n                                                data-vv-scope=\"frmAddEdit\"\r\n                                                data-vv-name=\"Dịch Vụ\"\r\n                                                clearable></v-autocomplete>\r\n                            </v-flex>\r\n\r\n                            <v-flex xs12 style=\"text-align: center\">\r\n                                <v-btn class=\"primary\" :disabled=\"loading\" :loading=\"loading\" @click.native=\"save\">Đặt Dịch Vụ</v-btn>\r\n                            </v-flex>\r\n\r\n                        </v-layout>\r\n                    </v-card>\r\n                </v-flex>\r\n            </v-layout>\r\n        </v-img>\r\n    </v-layout>\r\n\r\n\r\n</template>\r\n\r\n<script lang=\"ts\">\r\n    import { Vue } from 'vue-property-decorator';\r\n    import DatPhongApi, { DatPhongApiSearchParams } from '@/apiResources/DatPhongApi';\r\n    import { DatPhong } from '@/models/DatPhong';\r\n    import { LoaiPhong } from '@/models/LoaiPhong';\r\n    import LoaiPhongApi, { LoaiPhongApiSearchParams } from '@/apiResources/LoaiPhongApi';\r\n\r\n    import { DatDichVuApiSearchParams } from '@/apiResources/DatDichVuApi';\r\n    import { DichVu } from '@/models/DichVu';\r\nimport DichVuApi from '@/apiResources/DichVuApi';\r\n\r\n    export default Vue.extend({\r\n        components: {\r\n        },\r\n        data() {\r\n            return {\r\n\r\n                tableHeader: [\r\n                    { text: 'Họ Tên', value: 'HoTen', align: 'center', sortable: true },\r\n                    { text: 'Số Điện Thoại', value: 'SoDienThoai', align: 'center', sortable: true },\r\n                    { text: 'Thời Gian Đặt', value: 'ThoiGianDat', align: 'center', sortable: true },\r\n                    { text: 'Số Lượng Người', value: 'SoLuongNguoi', align: 'center', sortable: true },\r\n                    { text: 'Số Ngày Đặt', value: 'SoNgayDat', align: 'center', sortable: true },\r\n\r\n                ],\r\n                searchParamsDichVu: { includeEntities: true, rowsPerPage: 10 } as DatDichVuApiSearchParams,\r\n                loadingTable: false,\r\n                DatPhong: [] as DatPhong[],\r\n                datPhong: {} as DatPhong,\r\n                dsDichVu: [] as DichVu[],\r\n                loading: false\r\n            }\r\n        },\r\n        watch: {\r\n        },\r\n        created() {\r\n            this.getDataFromApi()\r\n        },\r\n        methods: {\r\n            getDataFromApi(): void {\r\n                DichVuApi.search(this.searchParamsDichVu).then(z => {\r\n                    this.dsDichVu = z.Data;\r\n                })\r\n            },\r\n            save(): void {\r\n                if ( this.datPhong.SoLuongNguoi <= 0) {\r\n                    this.$snotify.error(\"Vui lòng nhập đúng định dạng các trường!\");\r\n                    return;\r\n                }\r\n                this.$validator.validateAll('frmAddEdit').then((res) => {\r\n                 \r\n                        if (res) {\r\n                            this.datPhong.HoaDon = undefined;\r\n                            this.datPhong.LoaiPhong = undefined;\r\n                            this.datPhong.NhanVien = undefined;\r\n                            this.datPhong.TrangThai = 0;\r\n                            this.loading = true;\r\n                       \r\n                                DatPhongApi.insert(this.datPhong).then(res => {\r\n\r\n                                    this.datPhong = {} as DatPhong;\r\n                                    this.loading = false;\r\n                                    this.$eventBus.$emit('getSoKhachDatDichVu');\r\n                                    this.$snotify.success('Đặt dịch vụ thành công!');\r\n\r\n                                }).catch(res => {\r\n                                    this.loading = false;\r\n                                    this.$snotify.error('Đặt dịch vụ thất bại!');\r\n                                });\r\n                        }\r\n                    \r\n                });\r\n\r\n            },\r\n        }\r\n    });\r\n</script>\r\n\r\n"]}]}