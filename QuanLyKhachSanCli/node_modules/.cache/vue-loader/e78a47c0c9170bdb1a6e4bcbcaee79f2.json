{"remainingRequest":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\src\\components\\PhieuNhapKho\\DanhSachPhieuNhapKho.vue?vue&type=script&lang=ts&","dependencies":[{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\src\\components\\PhieuNhapKho\\DanhSachPhieuNhapKho.vue","mtime":1603956408999},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603956549663},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603956549663},{"path":"C:\\Users\\Trang\\Desktop\\My My hihi\\Trên lớp\\CNLTTH_LTTH\\QuanLyKhachSan\\QuanLyKhachSanCli\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue } from 'vue-property-decorator';\nimport PhieuNhapKhoApi, { PhieuNhapKhoApiSearchParams } from '@/apiResources/PhieuNhapKhoApi';\nimport { PhieuNhapKho } from '@/models/PhieuNhapKho';\nimport ThemSuaPhieuNhapKho from './ThemSuaPhieuNhapKho.vue';\nimport store from '@/store/store';\n\nexport default Vue.extend({\n    components: {\n        ThemSuaPhieuNhapKho\n    },\n    data() {\n        return {\n            dsPhieuNhapKho: [] as PhieuNhapKho[],\n            tableHeader: [\n                { text: 'STT', value: 'index', align: 'center', sortable: true },\n                { text: 'Ngày nhập', value: 'NgayNhap', align: 'center', sortable: true },\n                { text: 'Tổng tiền', value: 'TongTien', align: 'center', sortable: true },\n                  { text: 'Nhân viên', value: 'TongTien', align: 'center', sortable: true },\n                { text: 'Thao tác', value: '#', align: 'center', sortable: false },\n            ],\n            searchParamsPhieuNhapKho: { includeEntities: true, rowsPerPage: 10 } as PhieuNhapKhoApiSearchParams,\n            loadingTable: false,\n            selectedPhieuNhapKho: {} as PhieuNhapKho,\n            dialogConfirmDelete: false,\n        }\n    },\n    watch: {\n    },\n    created() {\n        this.getDataFromApi(this.searchParamsPhieuNhapKho);\n    },\n    methods: {\n        showDialogThemSua(isUpdate: boolean, item: any): void {\n            if (!isUpdate) {\n                item = {} as PhieuNhapKho;\n                item.NgayNhap = new Date();\n                item.TongTien = 0;\n                item.NhanVienID = store.state.user.Profile.NhanVien.NhanVienID;\n                PhieuNhapKhoApi.insert(item).then(res => {\n                    if (res) {\n                        item = res;\n                        (this.$refs.themSuaPhieuNhapKho as any).show(isUpdate, item);\n                    }\n                })\n            }\n            (this.$refs.themSuaPhieuNhapKho as any).show(isUpdate, item);\n        },\n        getDataFromApi(searchParamsPhieuNhapKho: PhieuNhapKhoApiSearchParams): void {\n            this.loadingTable = true;\n            PhieuNhapKhoApi.search(searchParamsPhieuNhapKho).then(res => {\n                this.dsPhieuNhapKho = res.Data;\n                this.searchParamsPhieuNhapKho.totalItems = res.Pagination.totalItems;\n                this.loadingTable = false;\n            });\n        },\n        confirmDelete(phieuNhapKho: PhieuNhapKho): void {\n            this.selectedPhieuNhapKho = phieuNhapKho;\n            this.dialogConfirmDelete = true;\n        },\n        \n    }\n});\n",{"version":3,"sources":["DanhSachPhieuNhapKho.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0DA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"DanhSachPhieuNhapKho.vue","sourceRoot":"src\\components\\PhieuNhapKho","sourcesContent":["<template>\r\n    <v-flex xs12>\r\n        <v-breadcrumbs divider=\"/\" class=\"pa-0\">\r\n            <v-icon slot=\"divider\">chevron_right</v-icon>\r\n            <v-breadcrumbs-item>\r\n                <v-btn flat class=\"ma-0\" @click=\"$router.go(-1)\" small><v-icon>arrow_back</v-icon> Quay lại</v-btn>\r\n            </v-breadcrumbs-item>\r\n            <v-breadcrumbs-item to=\"/phieunhapkho\" exact>Phiếu nhập kho</v-breadcrumbs-item>\r\n        </v-breadcrumbs>\r\n        <v-card style=\"min-height: 40em\">\r\n            <v-card-text>\r\n                <v-layout row wrap>\r\n                        <v-flex xs12>\r\n                            <v-layout nowrap>\r\n                                <v-flex xs3 style=\"padding-right: 5px; \">\r\n                                    <v-datepicker label=\"Từ ngày\" v-model=\"searchParamsPhieuNhapKho.NgayBD\" @input=\"getDataFromApi(searchParamsPhieuNhapKho)\"></v-datepicker>\r\n                                </v-flex>\r\n                                <v-flex xs3 style=\"padding-right: 10px; \">\r\n                                    <v-datepicker label=\"Đến ngày\" v-model=\"searchParamsPhieuNhapKho.NgayKT\" @input=\"getDataFromApi(searchParamsPhieuNhapKho)\"></v-datepicker>\r\n                                </v-flex>\r\n                                <v-spacer></v-spacer>\r\n                                <v-btn small color=\"primary\" style=\"margin: auto\" @click=\"showDialogThemSua(false, {})\">+ Thêm mới</v-btn>\r\n                            </v-layout>\r\n                        </v-flex>\r\n                        <v-flex xs12>\r\n                            <v-data-table :headers=\"tableHeader\"\r\n                                          :items=\"dsPhieuNhapKho\"\r\n                                          @update:pagination=\"getDataFromApi\" :pagination.sync=\"searchParamsPhieuNhapKho\"\r\n                                          :total-items=\"searchParamsPhieuNhapKho.totalItems\"\r\n                                          :loading=\"loadingTable\"\r\n                                          class=\"table-border table\">\r\n                                <template slot=\"items\" slot-scope=\"props\">\r\n                                    <td>{{ props.index + 1 }}</td>\r\n                                    <td>{{ props.item.NgayNhap === null ? \"\" : props.item.NgayNhap|moment('DD/MM/YYYY') }}</td>\r\n                                    <td>{{ props.item.TongTien }}</td>\r\n                                    <td>{{ props.item.NhanVien ? props.item.NhanVien.TenNhanVien : \"\" }}</td>\r\n                                    <td class=\"text-xs-center\" style=\"width:80px;\">\r\n                                        <v-tooltip top>\r\n                                            <v-badge left slot=\"activator\">\r\n                                                <v-btn flat icon small @click=\"showDialogThemSua(true, props.item)\" class=\"ma-0\">\r\n                                                    <v-icon small>edit</v-icon>\r\n                                                </v-btn>\r\n                                            </v-badge>\r\n                                            <span>Sửa</span>\r\n                                        </v-tooltip>\r\n\r\n                                    </td>\r\n                                </template>\r\n                            </v-data-table>\r\n                        </v-flex>\r\n                    </v-layout>\r\n            </v-card-text>\r\n        </v-card>\r\n        \r\n        <them-sua-phieu-nhap-kho ref=\"themSuaPhieuNhapKho\" @getLaiDanhSach=\"getDataFromApi(searchParamsPhieuNhapKho)\"></them-sua-phieu-nhap-kho>\r\n    </v-flex>\r\n</template>\r\n<script lang=\"ts\">\r\n    import { Vue } from 'vue-property-decorator';\r\n    import PhieuNhapKhoApi, { PhieuNhapKhoApiSearchParams } from '@/apiResources/PhieuNhapKhoApi';\r\n    import { PhieuNhapKho } from '@/models/PhieuNhapKho';\r\n    import ThemSuaPhieuNhapKho from './ThemSuaPhieuNhapKho.vue';\r\n    import store from '@/store/store';\r\n\r\n    export default Vue.extend({\r\n        components: {\r\n            ThemSuaPhieuNhapKho\r\n        },\r\n        data() {\r\n            return {\r\n                dsPhieuNhapKho: [] as PhieuNhapKho[],\r\n                tableHeader: [\r\n                    { text: 'STT', value: 'index', align: 'center', sortable: true },\r\n                    { text: 'Ngày nhập', value: 'NgayNhap', align: 'center', sortable: true },\r\n                    { text: 'Tổng tiền', value: 'TongTien', align: 'center', sortable: true },\r\n                      { text: 'Nhân viên', value: 'TongTien', align: 'center', sortable: true },\r\n                    { text: 'Thao tác', value: '#', align: 'center', sortable: false },\r\n                ],\r\n                searchParamsPhieuNhapKho: { includeEntities: true, rowsPerPage: 10 } as PhieuNhapKhoApiSearchParams,\r\n                loadingTable: false,\r\n                selectedPhieuNhapKho: {} as PhieuNhapKho,\r\n                dialogConfirmDelete: false,\r\n            }\r\n        },\r\n        watch: {\r\n        },\r\n        created() {\r\n            this.getDataFromApi(this.searchParamsPhieuNhapKho);\r\n        },\r\n        methods: {\r\n            showDialogThemSua(isUpdate: boolean, item: any): void {\r\n                if (!isUpdate) {\r\n                    item = {} as PhieuNhapKho;\r\n                    item.NgayNhap = new Date();\r\n                    item.TongTien = 0;\r\n                    item.NhanVienID = store.state.user.Profile.NhanVien.NhanVienID;\r\n                    PhieuNhapKhoApi.insert(item).then(res => {\r\n                        if (res) {\r\n                            item = res;\r\n                            (this.$refs.themSuaPhieuNhapKho as any).show(isUpdate, item);\r\n                        }\r\n                    })\r\n                }\r\n                (this.$refs.themSuaPhieuNhapKho as any).show(isUpdate, item);\r\n            },\r\n            getDataFromApi(searchParamsPhieuNhapKho: PhieuNhapKhoApiSearchParams): void {\r\n                this.loadingTable = true;\r\n                PhieuNhapKhoApi.search(searchParamsPhieuNhapKho).then(res => {\r\n                    this.dsPhieuNhapKho = res.Data;\r\n                    this.searchParamsPhieuNhapKho.totalItems = res.Pagination.totalItems;\r\n                    this.loadingTable = false;\r\n                });\r\n            },\r\n            confirmDelete(phieuNhapKho: PhieuNhapKho): void {\r\n                this.selectedPhieuNhapKho = phieuNhapKho;\r\n                this.dialogConfirmDelete = true;\r\n            },\r\n            \r\n        }\r\n    });\r\n</script>\r\n\r\n"]}]}